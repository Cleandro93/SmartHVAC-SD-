{"version":3,"sources":["webpack:///./src/app/test/test.module.ts","webpack:///./src/app/test/test.page.html","webpack:///./src/app/test/test.page.scss","webpack:///./src/app/test/test.page.ts"],"names":[],"mappings":"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","file":"test-test-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TestPage } from './test.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TestPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TestPage]\n})\nexport class TestPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button color=\\\"tertiary\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <!-- <div class=\\\"light\\\" slot=\\\"end\\\"></div> -->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <br><br><br><br><br><br><br><br><br><br><br><br>\\n    <div class=\\\"signalStatus\\\">\\n        <div class=\\\"rValue\\\"><p class='rP'>R</p></div><br><br><br>\\n        <div class=\\\"yValue\\\"><p class='yP'>Y</p></div><br><br><br>\\n        <div class=\\\"ghValue\\\"><p class='ghP'>GH</div><br><br><br>\\n        <div class=\\\"glValue\\\"><p class='glP'>GL</p></div><br><br><br>\\n    </div>\\n    <div class=\\\"signalControl\\\">\\n        <ion-toggle class=\\\"signalsToggles\\\" color=\\\"primary\\\" [(ngModel)]=\\\"rToogle\\\" (ionChange)=\\\"rSignalLineChanged()\\\"></ion-toggle><br><br><br>\\n        <ion-toggle class=\\\"signalsToggles\\\" color=\\\"primary\\\" [(ngModel)]=\\\"yToogle\\\" (ionChange)=\\\"ySignalLineChanged()\\\"></ion-toggle><br><br><br>\\n        <ion-toggle class=\\\"signalsToggles\\\" color=\\\"primary\\\" [(ngModel)]=\\\"ghToogle\\\" (ionChange)=\\\"ghSignalLineChanged()\\\"></ion-toggle><br><br><br>\\n        <ion-toggle class=\\\"signalsToggles\\\" color=\\\"primary\\\" [(ngModel)]=\\\"glToogle\\\" (ionChange)=\\\"glSignalLineChanged()\\\"></ion-toggle><br><br><br>\\n    </div>\\n\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Rlc3QvdGVzdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, RouterEvent } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { BLE } from '@ionic-native/ble/ngx';\nimport { Storage } from '@ionic/storage';\nimport { ToastController, AlertController } from '@ionic/angular';\nimport { NgZone } from '@angular/core';\n\n@Component({\n  selector: 'app-test',\n  templateUrl: './test.page.html',\n  styleUrls: ['./test.page.scss'],\n})\nexport class TestPage implements OnInit {\n  selectedPath = '';\n  category: string;\n  device: any;\n  statusMessage: string;\n  sensorData: Uint8Array;\n  initData: number[] = [0, 0, 0, 0, 0, 0, 0];\n  data: number[] = [0, 0, 0, 0, 0, 0, 0];\n  on = 1;\n  off = 0;\n  rToogle = true;\n  yToogle = true;\n  ghToogle = true;\n  glToogle = true;\n\n  constructor(private navCtrl: NavController,\n              private router: Router,\n              private ble: BLE,\n              public storage: Storage,\n              public alertController: AlertController,\n              private ngZone: NgZone) {\n    this.router.events.subscribe((event: RouterEvent) => {\n      this.selectedPath = event.url;\n    });\n  }\n\n  ngOnInit() {\n    this.storage.get('bleDevice').then((val) => {\n      console.log('Your age is', val);\n      const receivedObject = JSON.parse(val);\n      this.device = receivedObject;\n      console.log('Received this Object: ' + this.device);\n      console.log('Type of OBJ is ' + typeof(this.device));\n      console.log('Device name passed is: ' + this.device.name);\n      this.onInitRead(this.device);\n    });\n\n    this.signalLineChanged(this.data);\n  }\n\n  getCurrACStatus(data) {\n    this.yToogle = (data[0] === this.on) ? true : false;\n    this.glToogle = (data[1] === this.on) ? true : false;\n    this.ghToogle = (data[2] === this.on) ? true : false;\n    this.rToogle = (data[5] === this.on) ? true : false;\n  }\n\n  onInitRead(device) {\n    // Update the UI with the current state of the switch characteristic\n    this.ble.read(device.id, 'D0AF', '7B53').then(\n      buffer => {\n        const data = new Uint8Array(buffer);\n        const len = data.length;\n        this.ngZone.run(() => {\n            for (let index = 0; index < len; index++) {\n              this.data[index] = data[index];\n              this.initData[index] = data[index];\n            }\n            this.signalLineChanged(data);\n        });\n      }\n    );\n  }\n\n  onRead(device) {\n    // Update the UI with the current state of the switch characteristic\n    this.ble.read(device.id, 'D0AF', '7B53').then(\n      buffer => {\n        const data = new Uint8Array(buffer);\n        const len = data.length;\n        this.ngZone.run(() => {\n            /* for (let index = 0; index < len; index++) {\n              console.log('Did index: ' + index);\n              this.getThermStatus(index, data[index]);\n            } */\n            console.log('Just Read: ' + data);\n            this.signalLineChanged(data);\n            this.getCurrACStatus(data);\n        });\n      }\n    );\n  }\n\n  onWrite(data) {\n    console.log('onRead');\n    const buffer = new Uint8Array(data).buffer as ArrayBuffer;\n    console.log('Data is: ' + data[0]);\n    console.log('Type is: ' + typeof(buffer));\n    console.log('The whole array is: ' + this.data);\n    this.ble.write(this.device.id, 'D0AF', '7B53', buffer).then(\n      () => this.setStatus('Light is ' + (data[0] ? 'on' : 'off')),\n      e => this.presentAlert('Unexpected Error', 'Error updating power switch')\n    );\n  }\n\n  async presentAlert(header, message) {\n    const alert = await this.alertController.create({\n      header,\n      subHeader: 'Subtitle',\n      message,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  setStatus(message) {\n    console.log(message);\n    this.ngZone.run(() => {\n      this.statusMessage = message;\n    });\n  }\n\n  signalLineChanged(data) {\n    this.getCurrACStatus(data);\n    console.log('Data is sent now: ' + this.data);\n    const len = data.length;\n    console.log('value is: ');\n    for (let index = 0; index < len; index++) {\n      this.getThermStatus(index, data[index]);\n    }\n  }\n\n  getThermStatus(index: number, value: number) {\n    switch (index) {\n      case 5:\n        this.changeColor('rValue', 'rP', value);\n        break;\n      case 0:\n        this.changeColor('yValue', 'yP', value);\n        break;\n      case 1:\n        this.changeColor('ghValue', 'ghP', value);\n        break;\n      case 2:\n        this.changeColor('glValue', 'glP', value);\n        break;\n      default:\n        console.log('Error parsing the control lines status\\n');\n    }\n  }\n  changeColor(className: string, pClassName: string, value: number) {\n    const div = document.getElementsByClassName(className)[0];\n    const p = div.getElementsByClassName(pClassName)[0];\n\n    if (value === this.on) {\n      // tslint:disable-next-line: max-line-length\n      const onAttributes = 'position: relative; width: 40px; height: 33px; border: 5px solid #06367e; font-size: 20px; text-align:center; display: inline-block; background-color: #c0e3f7;';\n      // tslint:disable-next-line: max-line-length\n      const onPAttributes = 'margin: 0; position: absolute; top: 50%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%); color: #06367e;';\n      div.setAttribute('style', onAttributes);\n      p.setAttribute('style', onPAttributes);\n      console.log('Changed on');\n    } else if (value === this.off) {\n      // tslint:disable-next-line: max-line-length\n      const offAttributes = 'position: relative; width: 40px; height: 33px; border: 5px solid #7e0606; font-size: 20px; text-align:center; display: inline-block; background-color: #c76767;';\n      // tslint:disable-next-line: max-line-length\n      const onPAttributes = 'margin: 0; position: absolute; top: 50%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%); color: #550303;';\n      p.setAttribute('style', onPAttributes);\n      div.setAttribute('style', offAttributes);\n    }\n  }\n\n  rSignalLineChanged() {\n    console.log('Changed rToggle');\n    console.log('The value of rToggle is: ' + this.rToogle);\n    if (this.rToogle) {\n      console.log('It is True');\n      this.data[5] = this.on;\n    } else {\n      console.log('It is False');\n      this.data[5] = this.off;\n      // this.signalLineChanged([0, 0, 0, 0, 0, 0, 0]);\n    }\n    console.log('Data is now: ' + this.data);\n    // this.wait(2000);\n    this.onWrite(this.data);\n    this.onRead(this.device);\n  }\n\n  ySignalLineChanged() {\n    console.log('Changed yToggle');\n    console.log('The value of yToggle is: ' + this.yToogle);\n    if (this.yToogle) {\n      console.log('It is True');\n      this.data[0] = this.on;\n    } else {\n      console.log('It is False');\n      this.data[0] = this.off;\n    }\n    console.log('Data is now: ' + this.data);\n    this.onWrite(this.data);\n    this.onRead(this.device);\n  }\n\n  ghSignalLineChanged() {\n    console.log('Changed ghToggle');\n    console.log('The value of ghToggle is: ' + this.ghToogle);\n    if (this.ghToogle) {\n      console.log('It is True');\n      this.data[1] = this.off;\n      this.data[2] = this.on;\n    } else {\n      this.data[2] = this.off;\n      this.data[1] = this.on;\n    }\n    console.log('Data is now: ' + this.data);\n    this.onWrite(this.data);\n    this.onRead(this.device);\n  }\n\n  glSignalLineChanged() {\n    console.log('Changed glToggle');\n    console.log('The value of glToggle is: ' + this.glToogle);\n    if (this.glToogle) {\n      console.log('It is True');\n      this.data[2] = this.off;\n      this.data[1] = this.on;\n    } else {\n      console.log('It is False');\n      this.data[1] = this.off;\n      this.data[2] = this.on;\n    }\n    console.log('Data is now: ' + this.data);\n    this.onWrite(this.data);\n    this.onRead(this.device);\n  }\n\n  wait(ms) {\n    const start = new Date().getTime();\n    let end = start;\n    while (end < start + ms) {\n      end = new Date().getTime();\n   }\n }\n\n ionViewWillLeave() {\n  this.onWrite(this.initData);\n }\n\n\n\n}\n"],"sourceRoot":""}